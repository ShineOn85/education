Решение задачи с легионерами с помощью собственных коллекций